# Анализ возможных исполнений

В рамках данного задания вы проанализируете все возможные исполнения указанной ниже программы 
в модели чередования операций.

```
shared int a = 0

== Thread P: ==
while true: // execute lines 1-3 in a loop
  1: a = 0
  2: while a == 0: pass // do nothing, loop back to line 2
  3: pass // critical section, do nothing
  // continues loop execution at line 1  

== Thread Q: ==
while true: // execute lines 1-3 in a loop
  1: a = 1
  2: while a == 1: pass // do nothing, loop back to line 2
  3: pass // critical section, do nothing
  // continues loop execution at line 1
```

Чтения и записи разделяемой переменной *a* происходят атомарно.

## Задание

Нарисуйте диаграмму всех возможных различных состояний исполнения программы из двух потоков **P** и **Q** в модели 
чередования операций и запишите результат в файл [solution.txt](solution.txt) используя следующую нотацию:
 * Состояния системы обозначаются `[Px,Qy,a]` где
   `x` это строчка когда потока **P**, 
   `y` строчка кода потока **Q**,
   `a` это значение в переменной a. 
 * Например, начальное состояние обозначается как `[P1,Q1,0]`. 
 * Каждая строка в файле должна описывать возможный переход системы и иметь вид `<state1> -> <state2>`. Например, 
   исполнение первой строки потока **P** в начальном состоянии записывается как `[P1,Q1,0] -> [P2,Q1,0]`.
 * Можете писать комментарий после символа `#`.     
 * **В первой строке файла впишите вашу фамилию и имя**.
 
Для проверки корректности вашего решения запустите `./gradlew build` из корня репозитория. 

Обратите внимание, что потоки никогда не останавливается, поэтому в этой системе не будет конечного состояния.
Так как в системе два потока, то из каждого состояния должно быть два перехода. 

Самостоятельно проанализируйте полученные результаты. Результаты анализа не надо никуда записывать. 
Эти вопросы призваны вам помочь лучше понять материал дальнейших теоретических лекций. 

* Так как каждый поток может быть в одном из 3-х состояний, а переменная *a* в одном из 2-х состояний, 
  то теоретически возможны 3 x 3 x 2 = 18 состояний. Сколько различных достижимых состояний у вас получилось?
* Возможна ли ситуация, при которой поток **P** находится в состоянии *P3* (critical section) одновременно 
  с тем как поток **Q** находится в состоянии *Q3* (тоже critical section)? Попробуйте объяснить это наблюдение.
